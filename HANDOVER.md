# –ü–µ—Ä–µ–¥–∞—á–∞ –ø—Ä–æ–µ–∫—Ç–∞ Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

## –ß—Ç–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ

‚úÖ **–ü–æ–ª–Ω–∞—è OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - `API_DOCUMENTATION.md`
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö endpoint'–æ–≤
- –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–∏
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- –ö–æ–¥—ã –æ—à–∏–±–æ–∫ –∏ –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞

‚úÖ **–ì–æ—Ç–æ–≤—ã–π API –∫–ª–∏–µ–Ω—Ç** - `src/services/apiService.ts`
- Axios –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö API –æ–ø–µ—Ä–∞—Ü–∏–π

‚úÖ **–•—É–∫–∏ –¥–ª—è React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** - `src/hooks/apiHooks.ts`
- `useApiData` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `useApiMutation` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `usePagination` - —Ä–∞–±–æ—Ç–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `useVKAuth` - VK –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `useForm` - —Ä–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞–º–∏

‚úÖ **–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏** - `src/utils/storage.ts`
- LocalStorage –æ–±–µ—Ä—Ç–∫–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –¥–∞—Ç

‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API** - `src/config/api.ts`
- Endpoints –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- Feature flags
- –¢–∞–π–º–∞—É—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥**
- –í—Å–µ API –≤—ã–∑–æ–≤—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ AppStore
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –∫ —Ä–∞–±–æ—Ç–µ —Å API
- –í–µ—Å—å –∫–æ–¥ **–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω** –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ backend

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ apiService.ts          # –û—Å–Ω–æ–≤–Ω–æ–π API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ apiHooks.ts           # React —Ö—É–∫–∏ –¥–ª—è API
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ storage.ts            # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ api.ts               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îî‚îÄ‚îÄ apiUsageExamples.tsx  # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ stores/
    ‚îî‚îÄ‚îÄ AppStore.ts          # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–æ—Ä

API_DOCUMENTATION.md         # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
BACKEND_REQUIREMENTS.md      # –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è backend
BACKEND_INTEGRATION.md       # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
.env.example                # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## –î–ª—è Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### 1. –ù–∞—á–Ω–∏—Ç–µ —Å –∏–∑—É—á–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- `API_DOCUMENTATION.md` - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API
- `BACKEND_REQUIREMENTS.md` - –∫—Ä–∞—Ç–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 2. –û—Å–Ω–æ–≤–Ω—ã–µ endpoint'—ã –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (MVP):
- `POST /auth/vk-login` - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /users/me` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET|POST|PUT|DELETE /exercises` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è–º–∏
- `GET|POST|PUT|DELETE /workouts` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2:
- `POST /exercises/:id/media` - –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞
- `POST /workouts/:id/complete` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- `GET /calendar` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- `GET /statistics/me` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ endpoint'–æ–≤:

```bash
# –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
curl -X POST https://your-backend.com/api/v1/auth/vk-login \
  -H "Content-Type: application/json" \
  -d '{
    "vk_user_id": 123456,
    "vk_access_token": "token",
    "user_info": {
      "first_name": "–ò–≤–∞–Ω",
      "last_name": "–ü–µ—Ç—Ä–æ–≤"
    }
  }'
```

## –î–ª—è Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

### –ö–æ–≥–¥–∞ backend –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤:

1. **–û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# .env
VITE_API_URL=https://your-real-backend.com/api/v1
VITE_VK_APP_ID=your_real_vk_app_id
```

2. **–ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é:**
```typescript
// src/config/api.ts
export const FEATURE_FLAGS = {
  USE_BACKEND_API: true, // –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ true
}
```

3. **–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∫–æ–¥ –ø–æ—ç—Ç–∞–ø–Ω–æ:**
   - –°–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç—ã –∏ –±–∞–∑–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
   - –ó–∞—Ç–µ–º CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
   - –ù–∞–∫–æ–Ω–µ—Ü –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:**
   - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
   - –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–∏–º–µ—Ä –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞:

```typescript
// –ë—ã–ª–æ (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ):
// const response = await apiService.createExercise(exerciseData);
// this.exercises.push(response.data.exercise);

// –°—Ç–∞–ª–æ (–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ):
const response = await apiService.createExercise(exerciseData);
this.exercises.push(response.data.exercise);

// –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:
// const newExercise = { ...exerciseData, id: Date.now().toString() };
// this.exercises.push(newExercise);
```

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### Backend:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ endpoint'—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ VK
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω CORS –¥–ª—è VK –¥–æ–º–µ–Ω–∞
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã API –º–µ—Ç–æ–¥—ã

### Frontend:
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [ ] –í–∫–ª—é—á–µ–Ω —Ñ–ª–∞–≥ `USE_BACKEND_API`
- [ ] –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∞–Ω—ã –æ—à–∏–±–∫–∏ API

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `API_DOCUMENTATION.md`
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `src/examples/`
3. –ò–∑—É—á–∏—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ `src/services/apiService.ts`

---

**–£—Å–ø–µ—à–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏! üöÄ**
